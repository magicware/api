---
openapi: '3.0.2'
################################################################################
#                                  Header                                      #
################################################################################
tags:
  -  name: Authentication
     description: Everything about authentication
  -  name: Product
     description: Everything about products
  -  name: Business case
     description: Everything about business cases
info:
  title: M2G API documentation
  version: v1
  description:  |
    Informations about avaiable M2G API.
    # Getting Started
    ## Swagger UI
    Our API docs are also available via [Swagger UI](https://magicware.github.io/api/swagger-ui)
    ## Security
    ### HTTPS
    All api calls and callbacks require HTTPS. Your service will need a valid SSL certificate and be accesible via the standard SSL port (port 443).
    ## Making an API request
    ```POST https://magicware.iscontent.cz/api/v1/reservations/businessCases HTTP/1.1```
    ```json
    {
        Accept: text/json
        X-API-Authentication-Token: e00a713d-ad81-4b4f-8801-31b34842f640
        Content-Type: application/json; charset=utf-8
        Content-Length: 1000
    }
    ```
  x-logo:
    url: "https://avatars1.githubusercontent.com/u/8859303"
externalDocs:
  url: 'http://www.magicware.cz'
  description: More informations about this feature at www.magicware.cz
servers:
  -  url: 'https://{URLINSTANCENAME}.{URLINSTANCEENVIRONMENT}.com/api/{URLVERSION}'
     description: API server URL format
     variables:
       URLINSTANCENAME:
         default: 'magicware'
         description: Part of an url to the instance of the M2G system
       URLINSTANCEENVIRONMENT:
         default: 'iscontent'
         description: Part of an url to the instance of the M2G system
       URLVERSION:
         default: 'v1'
################################################################################
#                                  Paths                                       #
################################################################################
paths:
  /administration/user/login:
    post:
      description:  |
        #### **API-IDENTIFIER**: `Administration.Users.Login`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Login and obtain the ApiKeyAuth (apiKey) authentication token.
        
        If the value of property `authenticationToken` is 'null', login was not successful
        
        **Authentication token is automatically set into request header**.
      tags:
        -  Authentication
      summary: "Login and authorize"
      requestBody:
        required: True
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ff8b50c3-c4e7-8931-4403-759665238a84'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/768284c8-5cef-3f11-d387-62dbe3fbd4cb'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
  /products/priceCorrections:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Products.Prices.PriceCorrections.AdjustPriceVariant`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        The price correction currently affects adjusted product variant prices only in exports.
      tags:
        -  Product
      summary: "Re-price product variants or adjust their end price."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Price correction with it's type how it behave and it's variant unique key.
          To remove the price correction, just simply set the price correction amount to a zero.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/d67b15fe-4a58-deca-f4a8-fd78cfbc09db'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/d67b15fe-4a58-deca-f4a8-fd78cfbc09db'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
  /reservations/businessCases:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Get an informations about a business case.
      tags:
        -  Business case
      summary: "Informations about a business case."
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: number
           description: Number of the business case.
           required: True
           schema:
             type: integer
             format: int64
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/8e88fd77-f4ed-f08c-5569-298de45ca6e9'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
    post:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.New`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Creates new business case. Returns extra ID and Number of created business case.
      tags:
        -  Business case
      summary: "Create a new business case."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines the business case.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/businessCase~1request'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/businessCase~1response'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
  /reservations/businessCases/customInfo:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.BcCustomInfo.Actualize`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.
      tags:
        -  Business case
      summary: "Actualize additional data of a business case."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines additional data for a business case.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/bcCustomInfo'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bcCustomInfo'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
  /reservations/businessCases/priceItems:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.PriceItems.Actualize`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.
      summary: "Create, modify or release the price items."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/priceItems'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/priceItems'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          $ref: '#/components/responses/500InternalServerError'
  /reservations/businesscases/invoices:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Invoices.Get`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.<br /><br />
        
        Gets a list of the business case's proforma invoices. If no proforma invoices exists, they are created automatically by business case's payment policy.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Get invoices attached to a business case."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: businessCaseId
           description: Required if no `businessCaseNumber` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int32
        -  in: query
           name: businessCaseNumber
           description: Required if no `businessCaseId` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int64
        -  in: query
           name: type
           description: Defines a type of the required invoices.
           required: True
           schema:
             type: string
             enum: [proforma]
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/bcInvoice~1response'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1003</td><td>Business case provided by identifier has not been found</td></tr><tr><td style='text-align:center'>1035</td><td>Identifiers provided in api request query of a business case are not in valid state</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /reservations/businesscases/invoices/contents:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Invoices.Content.Get`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case and printeable invoice document.<br /><br />
        
        Gets a document file of an invoice.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Get a printeable invoice file attached to a business case."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: businessCaseId
           description: Required if no `businessCaseNumber` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int32
        -  in: query
           name: businessCaseNumber
           description: Required if no `businessCaseId` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int64
        -  in: query
           name: accountingDocId
           description: ID of an accounting document
           required: True
           schema:
             type: integer
             format: int32
      responses:
        '200':
          description:  |
            OK
          content:
            application/pdf:
              schema:
                type: string
                format: binary
            application/msword:
              schema:
                type: string
                format: binary
            application/vnd.openxmlformats-officedocument.wordprocessingml.document:
              schema:
                type: string
                format: binary
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '425':
          description:  |
            Too early - The requested file is still generating, please try again later.
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1003</td><td>Business case provided by identifier has not been found</td></tr><tr><td style='text-align:center'>1035</td><td>Identifiers provided in api request query of a business case are not in valid state</td></tr><tr><td style='text-align:center'>1036</td><td>File does not exists - but should exist</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /reservations/businesscases/persons:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Persons`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`
        ---
        Allows to modify a passengers of a business case.<br />
        ID of the booking is now an optional parameter. Keep in mind, the passengers modified outside the booking process will not be automatically associated with the booking process.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Modify a passengers of a business case"
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines the passangers.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/cf8a454f-cc43-a125-ae3e-7ad1aea4a2b7'
      responses:
        '204':
          $ref: '#/components/responses/204NoContent'
        '400':
          $ref: '#/components/responses/400BadRequest'
        '401':
          $ref: '#/components/responses/401Unauthorized'
        '404':
          $ref: '#/components/responses/404NotFound'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1015</td><td>Booking ID is not specified</td></tr><tr><td style='text-align:center'>1016</td><td>Specified Booking ID doesn't exist</td></tr><tr><td style='text-align:center'>1017</td><td>Invalid persons count</td></tr><tr><td style='text-align:center'>1018</td><td>Invalid persons birth dates</td></tr><tr><td style='text-align:center'>1019</td><td>Specified country ISO code not found</td></tr><tr><td style='text-align:center'>1020</td><td>Not specified error</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
################################################################################
#                                Components                                    #
################################################################################
components:
  schemas:
    
    #7f0ec1ef-1a09-0117-5f92-357281bd26ca:
    #  type: object
    #  properties:
    #    id:
    #      type: integer
    #      format: int32
    businessCase/request:
      type: object
      properties:
        name:
          type: string
          description: Project name
          nullable: true
        customerId:
          type: integer
          format: int32
          description: ID of a customer.
          nullable: true
        businessCaseKindCbId:
          type: integer
          format: int32
          description: ID of a business case kind.
          nullable: true
        costCenterId:
          type: integer
          format: int32
          description: ID of a cost center.
          nullable: true
        ownerId:
          type: integer
          format: int32
          description: ID of an owner.
          nullable: true
    businessCase/response:
      type: object
      properties:
        id:
          type: integer
          format: int32
          description: ID of new business case
        number:
          type: integer
          format: int64
          description: Number of new business case
        name:
          type: string
          description: Project name
          nullable: true
        customerId:
          type: integer
          format: int32
          description: ID of a customer.
          nullable: true
        businessCaseKindCbId:
          type: integer
          format: int32
          description: ID of a business case kind.
          nullable: true
        costCenterId:
          type: integer
          format: int32
          description: ID of a cost center.
          nullable: true
        ownerId:
          type: integer
          format: int32
          description: ID of an owner.
          nullable: true
    bcCustomInfo:
      type: object
      required:
        - businessCaseId
      properties:
        businessCaseId:
          type: integer
          format: int32
          description: ID of the business case that additional data are for
        destinationId:
          type: integer
          format: int32
          description: ID of a destination
          nullable: true
        productTypeId:
          type: integer
          format: int32
          description: ID of a product type
          nullable: true
        accommodationCategoryCbId:
          type: integer
          format: int32
          description: ID of an accommodation
          nullable: true
        boardTypeCbId:
          type: integer
          format: int32
          description: ID of a board
          nullable: true
        transportTypeCbID:
          type: integer
          format: int32
          description: ID of a board
          nullable: true
        term:
          $ref: '#/components/schemas/bcCustomInfo~1Term'
        accommodationTerm:
          $ref: '#/components/schemas/bcCustomInfo~1AccommodationTerm'
        personCount:
          type: integer
          format: int32
          description: Count of a persons.
          nullable: true
        hotelName:
          type: string
          description: Name of a hotel
        roomKind:
          type: string
          description: Kind of a room
        departurePlace:
          type: string
          description: Departure place
        services:
          type: string
          description: Additional services
    bcCustomInfo/Term:
      description: Term of accomodation
      type: object
      properties:
        dateFrom:
          type: string
          format: date
          description: Date from
          nullable: true
        dateTo:
          type: string
          format: date
          description: Date to
          nullable: true
    bcCustomInfo/AccommodationTerm:
      description: Start and end of the trip
      type: object
      properties:
        dateFrom:
          type: string
          format: date
          description: Date from
          nullable: true
        dateTo:
          type: string
          format: date
          description: Date to
          nullable: true
    priceItems:
      required:
        - arrayOfPriceItem
      type: object
      properties:
        priceItems:
          type: array
          items: 
            $ref: '#/components/schemas/priceItem'
    priceItem:
      required:
        - businessCaseId
        - commitmentModeId
        - amount
        - currencyId
        - operation
      type: object
      properties:
        id:
          type: integer
          format: int32
          nullable: true
          description:  |
            ID of a price item. 
            Can be null or empty if the property 'operation' is 'save'
        businessCaseId:
          type: integer
          format: int32
          description: ID of a business case
        priceListItemId:
          type: integer
          format: int32
          nullable: true
          description: ID of a price list item
        commitmentModeId:
          type: integer
          format: int32
          description: ID of a commitment mode
        name:
          type: string
          description: Name of a price item
          nullable: true
        amount:
          type: number
          format: double
          description: The value of a price item amount
        currencyId:
          type: integer
          format: int32
        accountingId:
          type: integer
          format: int32
          nullable: true
          description: ID of an accounting
        operation:
          type: string
          description: |
            The operation with a price item, that you intend to do
              - `save`: 
                  If the property `id` is 'null' or empty, then the new price item will be created.
                  Otherwise if the property `id` has a value, then an update of an existing price item will be proceed.
              - `release`: 
                  The price item of a set property `id` will be realesed (not cancelled)
          enum:
            - save
            - release
    
    
    bcInvoice/response:
      required:
        - arrayOfBcInvoices
      type: object
      properties:
        invoices:
          type: array
          items: 
            $ref: '#/components/schemas/bcInvoice~1response~1bcInvoice'
    bcInvoice/response/bcInvoice:
      type: object
      properties:
        variableSymbol:
          type: integer
          format: int64
          nullable: true
          description: Variable symbol of the invoice
        value:
          type: number
          format: double
          description: Value of the invoice
        accountingDocId:
          type: integer
          format: int32
          description: ID of the document where invoice is stored as a printable document
    
    Error:
       type: object
       properties:
         errorId:
           type: integer
           format: int32
           description: Internal system ID of the error
         timestamp:
           type: integer
           format: int64
           description: Timestamp of the event, epoch time in milliseconds
         message:
           type: string
           description: Description of the internal server error
           nullable: true
    
    ff8b50c3-c4e7-8931-4403-759665238a84:
      type: object
      properties:
        login:
          type: string
          description:  |
            User name
        password:
          type: string
          description:  |
            User password
    768284c8-5cef-3f11-d387-62dbe3fbd4cb:
      type: object
      properties:
        authenticationToken:
          type: string
          format: uuid
          description:  |
            Authorization token. If the value of property `authenticationToken` is 'null', login was not successful
          nullable: true
    d67b15fe-4a58-deca-f4a8-fd78cfbc09db:
      type: object
      required:
        - amount
        - dateFrom
        - nights
        - productId
        - facilityUnitPlanId
      properties:
        amount:
          type: number
          format: double
          description:  |
            The value of a price correction
        dateFrom:
          type: string
          format: date-time
          description:  |
            Date From
        nights:
          type: integer
          format: int32
          description:  |
            Count of nights
        departureTransportFacilityId:
          type: integer
          format: int32
          description:  |
            ID of a depature transport facility
          nullable: true
        departureStationId:
          type: integer
          format: int32
          description:  |
            ID of a departure station
          nullable: true
        returnArrivalStationId:
          type: integer
          format: int32
          description:  |
            ID of an arrival station
          nullable: true
        productId:
          type: integer
          format: int32
          description:  |
            ID of a product
        priceListCategoryCbId:
          type: integer
          format: int32
          description:  |
            Codebook ID of a price list category
          nullable: true
        boardTypeCbId:
          type: integer
          format: int32
          description:  |
            Codebook ID of a board type
          nullable: true
        saleGroupId:
          type: integer
          format: int32
          description:  |
            ID of a sale group
          nullable: true
        facilityUnitPlanId:
          type: integer
          format: int32
          description:  |
            ID of a facility unit plan
    8e88fd77-f4ed-f08c-5569-298de45ca6e9:
      type: object
      description:  |
        Obecné k dokumentu:
        
            Typy parametrů a atributů:
                * int: Celé číslo 4 Byty.
                * long: Celé číslo 8 Bytů.
                * float: Číslo s plovoucí čárkou.
                * bool: Logická hodnota true nebo false.
                * string: Textový řetězec nebo null.
                * datetime: Datum s časem, datum, nebo jen čas, formát vždy uveden.
                * null: Na vstupu - parametr je nepovinný, na výstupu - atribut nemusí být uveden nebo je null.
                * enum: Výčtový typ, na dalším řádku následuje výpis možných hodnot.
                * array: Jde o pole hodnot, typicky oddělených znakem ", ", nebo u vstupních parametrů
                vícenásobným uvedením v URL.
        
            YAML styl dokumentace:
                * { : Označení objektu
                * [ { : Označení pole objektů
                * [] : Označení pole hodnot
                * # : Začátek komentáře
        
      properties:
        businessCases:
          type: array
          description:  |
            Obchodní případy
          items:
            $ref: '#/components/schemas/ac314140-b056-3ade-ee01-779f7c9a88cf'
        products:
          type: array
          description:  |
            Produkty
          items:
            $ref: '#/components/schemas/c6067df4-d3ce-ef9f-a76c-a1372390b56b'
        facilityKinds:
          type: array
          description:  |
            Druhy zařízení
          items:
            $ref: '#/components/schemas/573e26ab-85d7-c1a6-139d-7993e00c4f84'
        commitmentModes:
          type: array
          description:  |
            Způsoby zajištění (vazba na číselník "commitmentModes")
          items:
            $ref: '#/components/schemas/a998e1ae-ed07-31b3-3b1d-96a0c78bc593'
        productTypes:
          type: array
          description:  |
            Typy produktů
          items:
            $ref: '#/components/schemas/ab619b51-5818-673d-df5b-71e7a4d99319'
        contactTypes:
          type: array
          description:  |
            Typy kontaktů
          items:
            $ref: '#/components/schemas/18a60dd0-d87c-a788-f5fd-8745531d1145'
        persons:
          type: array
          description:  |
            Osoby v systému
          items:
            $ref: '#/components/schemas/42688ed6-9411-6760-c972-8a41f1772978'
        priceFlags:
          type: array
          description:  |
            Příznaky cen
          items:
            $ref: '#/components/schemas/7fc97be9-b51b-f19e-0be9-ee1e66f9e55e'
        countries:
          type: array
          description:  |
            Země
          items:
            $ref: '#/components/schemas/a8a54b93-2c72-20fb-47df-89189a2b6ab5'
    ac314140-b056-3ade-ee01-779f7c9a88cf:
      type: object
      description:  |
        Obchodní Případ (OP) Slouží jako složka pro evidenci prvků a stavů - sledu aktivit:  poptávka – rezervace - prodej. 
        Bilance plateb vůči ceně služeb se provádí za každý obchodní případ samostatně.
      properties:
        id:
          type: integer
          format: int32
          description:  |
            Id OP
        number:
          type: integer
          format: int64
          description:  |
            Číslo OP
        commitmentModeId:
          type: integer
          format: int32
          description:  |
            Vazba na číselník "commitmentModes" určující stav OP (Rezervace, Prodej..)
          nullable: true
        currency:
          type: string
          description:  |
            Kód měny OP
        dateCreated:
          type: string
          format: date-time
          description:  |
            Datum začátku OP
        dateFrom:
          type: string
          format: date-time
          description:  |
            Datum konce OP
          nullable: true
        firstExpirationDate:
          type: string
          format: date-time
          description:  |
            Nejbližší datum expirace OP
          nullable: true
        cancellationMode:
          enum:
            - notset
            - cancelled
            - released
          type: string
        owner:
          $ref: '#/components/schemas/f829d84d-a12c-cd1e-f6e2-5bc23d611e83'
        organizer:
          $ref: '#/components/schemas/2efb3e98-7870-693d-4916-0769c2e8abc0'
        customer:
          $ref: '#/components/schemas/72362654-3722-511f-21b2-feb7c492e0e7'
        products:
          type: array
          description:  |
            Produkty OP
          items:
            $ref: '#/components/schemas/2b13908a-e129-1e87-70e8-9e542bc5f62d'
        priceItems:
          type: array
          description:  |
            Cenové položky OP
          items:
            $ref: '#/components/schemas/baa2818c-51c3-496d-fc4d-4360688dddc1'
        capacities:
          type: array
          description:  |
            Vázané kapacity
          items:
            $ref: '#/components/schemas/b6ccd8cf-e0f4-b9a6-8836-ded97bfd46b1'
        priceSummary:
          $ref: '#/components/schemas/1e0cc0df-2691-b4a4-740d-2dc2a287e4ed'
        businessCasePersons:
          type: array
          description:  |
            Osoby připojené k OP
          items:
            $ref: '#/components/schemas/54b4cfbc-7b50-e3a3-59b1-5767d78b266e'
        files:
          type: array
          description:  |
            Soubory připojené (vygenerované) k OP
          items:
            $ref: '#/components/schemas/7db6f602-3d0f-4b83-ac4b-157a0b57bb08'
        paymentPolicies:
          type: array
          description:  |
            Payment policies of the business case
          items:
            $ref: '#/components/schemas/77419105-3a86-90de-05c3-7e256f38f6e3'
    f829d84d-a12c-cd1e-f6e2-5bc23d611e83:
      type: object
      description:  |
        Vlastník (organizace) OP
      properties:
        organizationId:
          type: integer
          format: int32
          description:  |
            ID organizace vlastníka
          nullable: true
        organizationName:
          type: string
          description:  |
            Název organizace vlastníka
        organizationRegNumber:
          type: string
          description:  |
            IČO organizace vlastníka
        personId:
          type: integer
          format: int32
          description:  |
            ID osoby vlastníka (vazba na osobu)
          nullable: true
    2efb3e98-7870-693d-4916-0769c2e8abc0:
      type: object
      description:  |
        Pořadatel (organizace) OP
      properties:
        organizationId:
          type: integer
          format: int32
          description:  |
            ID organizace pořadatele
          nullable: true
        organizationName:
          type: string
          description:  |
            Název organizace pořadatele
        organizationRegNumber:
          type: string
          description:  |
            IČO organizace pořadatele
    72362654-3722-511f-21b2-feb7c492e0e7:
      type: object
      description:  |
        Zákazník (organizace) OP
      properties:
        organizationId:
          type: integer
          format: int32
          description:  |
            ID organizace zákazníka
          nullable: true
        organizationName:
          type: string
          description:  |
            ID organizace zákazníka
        organizationRegNumber:
          type: string
          description:  |
            ID organizace zákazníka
        personId:
          type: integer
          format: int32
          description:  |
            ID organizace zákazníka (vazba na osobu)
          nullable: true
    2b13908a-e129-1e87-70e8-9e542bc5f62d:
      type: object
      description:  |
        Produkt představuje obal toho, co prodáváme
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID produktu
        name:
          type: string
          description:  |
            Název produktu
        termName:
          type: string
          description:  |
            Název objednaného termínu produktu
        dateFrom:
          type: string
          format: date-time
          description:  |
            Začátek pobytu (datum od z připojeného produktu)
          nullable: true
        dateTo:
          type: string
          format: date-time
          description:  |
            Konec pobytu (datum do z připojeného produktu)
          nullable: true
    baa2818c-51c3-496d-fc4d-4360688dddc1:
      type: object
      description:  |
        Cenové položky OP
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID cenové položky
        currency:
          type: string
          description:  |
            Měna cenové položky
        isCancelled:
          type: boolean
          description:  |
            Zda byla cenová položka stornována
        name:
          type: string
          description:  |
            Název cenové položky
        unitCount:
          type: integer
          format: int32
          description:  |
            Počet jednotek
        unitPrice:
          type: number
          format: double
          description:  |
            Jednotková cena
          nullable: true
        totalPrice:
          type: number
          format: double
          description:  |
            Celková cena včetně odečtených slev
          nullable: true
        commision:
          type: number
          format: double
          description:  |
            Celková provize na ceníkové položce
        businessCasePersonId:
          type: integer
          format: int32
          description:  |
            ID osoby v OP, které cenová položka patří
          nullable: true
        priceFlagId:
          type: integer
          format: int32
          description:  |
            ID příznaku (LastMinute, ...) cen z číselníku priceFlags
          nullable: true
        commitmentModeId:
          type: integer
          format: int32
          description:  |
            Vazba na číselník "commitmentModes" určující stav cenové položky
          nullable: true
        discounts:
          type: array
          description:  |
            Aplikované slevy
          items:
            $ref: '#/components/schemas/6c607ebb-7f33-ef5d-58a1-9e68b796fca6'
    6c607ebb-7f33-ef5d-58a1-9e68b796fca6:
      type: object
      description:  |
        Aplikované slevy
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID slevy
          nullable: true
        name:
          type: string
          description:  |
            Název slevy
        amount:
          type: number
          format: double
          description:  |
            Částka slevy
    b6ccd8cf-e0f4-b9a6-8836-ded97bfd46b1:
      type: object
      description:  |
        Představuje jednotky v čase vázané obchodnímu případu s nějakým způsobem zajištění
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID vázané kapacity
        facilityType:
          type: string
          description:  |
            Typ zařizení vázané kapacity
        facilityId:
          type: integer
          format: int32
          description:  |
            ID zařízení vázané kapacity
        facilityKindId:
          type: integer
          format: int32
          description:  |
            Druh zařízení
          nullable: true
        facilityName:
          type: string
          description:  |
            Název zařízení
        unitType:
          type: string
          description:  |
            Název typu vzoru jednotky vázané kapacity
        unitName:
          type: string
          description:  |
            Název vzoru jednotky vázané kapacity
        commitmentModeId:
          type: integer
          format: int32
          description:  |
            Způsob zajištění vázané kapacity (vazba na číselník "commitmentModes")
          nullable: true
        route:
          $ref: '#/components/schemas/de120219-c55c-cb50-80da-baeca148b6a6'
        personMapping:
          type: array
          description:  |
            Připojené osoby
          items:
            $ref: '#/components/schemas/32a250db-53ce-db28-7e7a-b1d8b9e019f0'
    de120219-c55c-cb50-80da-baeca148b6a6:
      type: object
      description:  |
        Cesta
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID
          nullable: true
        code:
          type: string
          description:  |
            Kód
        unitType:
          type: string
          description:  |
            Název typu vzoru jednotky
        from:
          $ref: '#/components/schemas/dadee616-6d90-1831-ea0a-af7cb8311b59'
        to:
          $ref: '#/components/schemas/dadee616-6d90-1831-ea0a-af7cb8311b59'
    dadee616-6d90-1831-ea0a-af7cb8311b59:
      type: object
      description:  |
        Stanice odjezdu
      properties:
        code:
          type: string
          description:  |
            Kód stanice
        name:
          type: string
          description:  |
            Název stanice
        time:
          type: string
          format: date-time
          description:  |
            Čas odjezdu/příjezdu
          nullable: true
    32a250db-53ce-db28-7e7a-b1d8b9e019f0:
      type: object
      description:  |
        Připojené osoby
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID osoby OP
        mapping:
          enum:
            - notset
            - fixedplace
            - extrabed
            - infant
            - nobed
            - overbook
          type: string
    1e0cc0df-2691-b4a4-740d-2dc2a287e4ed:
      type: object
      description:  |
        Shrnutí ceny OP
      properties:
        totalPrice:
          type: number
          format: double
          description:  |
            Celková cena OP
          nullable: true
        payments:
          type: number
          format: double
          description:  |
            Suma plateb za OP
          nullable: true
        commission:
          type: number
          format: double
          description:  |
            Provize za OP
          nullable: true
    54b4cfbc-7b50-e3a3-59b1-5767d78b266e:
      type: object
      description:  |
        Osoby připojené k OP
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID osoby OP
        order:
          type: integer
          format: int32
          description:  |
            Pořadí osoby OP
        isContactPerson:
          type: boolean
          description:  |
            Určuje zda je osoba v OP kontaktérem
        role:
          enum:
            - notset
            - active
            - child
            - infant
            - inactive
            - cancelled
          type: string
        person:
          $ref: '#/components/schemas/4786e4f0-4718-2eda-0663-9fbcfd33b959'
    4786e4f0-4718-2eda-0663-9fbcfd33b959:
      type: object
      description:  |
        Vazba na konkrétní osobu
      properties:
        id:
          type: integer
          format: int32
          description:  |
            Id osoby v systému
        firstName:
          type: string
          description:  |
            Jméno osoby
        middleName:
          type: string
          description:  |
            Prostřední jméno osoby
        lastname:
          type: string
          description:  |
            Příjmení osoby
        birthDate:
          type: string
          format: date-time
          description:  |
            Datum narození
          nullable: true
        sex:
          enum:
            - notset
            - male
            - female
          type: string
        contacts:
          type: array
          description:  |
            Seznam kontaktních údajů
          items:
            $ref: '#/components/schemas/c06ef571-cc16-7a7a-e884-48067be418f3'
        addresses:
          type: array
          description:  |
            Seznam připojených adres
          items:
            $ref: '#/components/schemas/a425c9a5-f1b7-77e3-8487-893ae88d1e4d'
    c06ef571-cc16-7a7a-e884-48067be418f3:
      type: object
      description:  |
        Seznam kontaktních údajů
      properties:
        contactTypeId:
          type: integer
          format: int32
          description:  |
            ID z číselníku typu kontaktů "contactTypes"
        value:
          type: string
          description:  |
            Hodnota kontaktu - text spojení
        isMain:
          type: boolean
          description:  |
            Určuje, je-li kontakt v dané skupině se stejným contactTypeId hlavní
    a425c9a5-f1b7-77e3-8487-893ae88d1e4d:
      type: object
      description:  |
        Seznam připojených adres
      properties:
        street:
          type: string
          description:  |
            Ulice
        number:
          type: string
          description:  |
            Číslo orientační
        houseNumber:
          type: string
          description:  |
            Číslo popisné
        city:
          type: string
          description:  |
            Město
        zip:
          type: string
          description:  |
            Psč
        countryId:
          type: integer
          format: int32
          description:  |
            Id z číselníku zemí "countries"
          nullable: true
        flags:
          type: array
          items:
            enum:
              - notset
              - hq
              - invoice
              - correspondence
              - presentation
            type: string
    7db6f602-3d0f-4b83-ac4b-157a0b57bb08:
      type: object
      description:  |
        Soubory připojené (vygenerované) k OP
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID souboru
          nullable: true
        templateId:
          type: integer
          format: int32
          description:  |
            ID šablony dokumentu použité pro generování
          nullable: true
        templateName:
          type: string
          description:  |
            Název šablony dokumentu
    77419105-3a86-90de-05c3-7e256f38f6e3:
      type: object
      description:  |
        Payment policies of the business case
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID of the payment policy
        date:
          type: string
          format: date-time
          description:  |
            Date
        amount:
          type: number
          format: double
          description:  |
            Amount
        currencyCode:
          type: string
          description:  |
            Currency code
        state:
          type: string
          description:  |
            State
        arrears:
          type: number
          format: double
          description:  |
            Arrears
    c6067df4-d3ce-ef9f-a76c-a1372390b56b:
      type: object
      description:  |
        Produkt představuje obal toho, co prodáváme
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID Produktu
        name:
          type: string
          description:  |
            Jméno Produktu
        code:
          type: string
          description:  |
            Kód produktu
        url:
          type: string
          description:  |
            Url produktu generovaná z názvu (nejedná se o kompletní url na webu)
        productTypesId:
          type: array
          items:
            type: integer
            format: int32
            description:  |
              Seznam ID typů produktů
    573e26ab-85d7-c1a6-139d-7993e00c4f84:
      type: object
      description:  |
        Druhy zařízení
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID druhu zařízení
        name:
          type: string
          description:  |
            Název druhu zařízení
    a998e1ae-ed07-31b3-3b1d-96a0c78bc593:
      type: object
      description:  |
        Způsoby zajištění (vazba na číselník "commitmentModes")
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID způsobu zajištění
        name:
          type: string
          description:  |
            Název způsobu zajištění
        code:
          type: string
          description:  |
            Kód způsobu zajištění
    ab619b51-5818-673d-df5b-71e7a4d99319:
      type: object
      description:  |
        Typy produktů
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID typu produktu
        name:
          type: string
          description:  |
            Název typu produktu
        code:
          type: string
          description:  |
            Kód typu produktu
    18a60dd0-d87c-a788-f5fd-8745531d1145:
      type: object
      description:  |
        Typy kontaktů
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID typu kontaktu
        name:
          type: string
          description:  |
            Název typu kontaktu
        code:
          type: string
          description:  |
            Kód typu kontaktu
    42688ed6-9411-6760-c972-8a41f1772978:
      type: object
      description:  |
        Osoby v systému
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID osoby
        dateCreated:
          type: string
          format: date-time
          description:  |
            Datum založení osoby v systému
        firstName:
          type: string
          description:  |
            Jméno osoby
        lastname:
          type: string
          description:  |
            Příjmení osoby
        titles:
          type: string
          description:  |
            Tituly před jménem
        degrees:
          type: string
          description:  |
            Tituly za jménem
        personalNumber:
          type: string
          description:  |
            Rodné číslo
        birthDate:
          type: string
          format: date-time
          description:  |
            Datum narození
          nullable: true
        isBlacklisted:
          type: boolean
          description:  |
            True je-li osoba na blacklistu, False pokud není
        isDeleted:
          type: boolean
          description:  |
            True je-li osoba v systému označená jako smazaná
        note:
          type: string
          description:  |
            Poznámka u osoby
        sex:
          enum:
            - notset
            - male
            - female
          type: string
        groups:
          type: array
          items:
            type: string
            description:  |
              Statické skupiny, ve kterých je osoba přiřazena. Dynamické skupiny se neexportují.
        contacts:
          type: array
          description:  |
            Seznam kontaktních údajů
          items:
            $ref: '#/components/schemas/0e19d354-1787-06a6-5384-4718d65839b3'
        addresses:
          type: array
          description:  |
            Seznam připojených adres
          items:
            $ref: '#/components/schemas/3cb7e51e-30a7-19b3-a235-5dbefb81f307'
    0e19d354-1787-06a6-5384-4718d65839b3:
      type: object
      description:  |
        Seznam kontaktních údajů
      properties:
        contactTypeId:
          type: integer
          format: int32
          description:  |
            ID z číselníku typu kontaktů "contactTypes"
        value:
          type: string
          description:  |
            Hodnota kontaktu - text spojení
        isMain:
          type: boolean
          description:  |
            Určuje, je-li kontakt v dané skupině se stejným contactTypeId hlavní
    3cb7e51e-30a7-19b3-a235-5dbefb81f307:
      type: object
      description:  |
        Seznam připojených adres
      properties:
        street:
          type: string
          description:  |
            Ulice
        number:
          type: string
          description:  |
            Číslo orientační
        houseNumber:
          type: string
          description:  |
            Číslo popisné
        city:
          type: string
          description:  |
            Město
        zip:
          type: string
          description:  |
            Psč
        countryId:
          type: integer
          format: int32
          description:  |
            Id z číselníku zemí "countries"
          nullable: true
        flags:
          type: array
          items:
            enum:
              - notset
              - hq
              - invoice
              - correspondence
              - presentation
            type: string
    7fc97be9-b51b-f19e-0be9-ee1e66f9e55e:
      type: object
      description:  |
        Příznaky cen
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID příznaku
        name:
          type: string
          description:  |
            Název příznaku
        code:
          type: string
          description:  |
            Kód příznaku
    a8a54b93-2c72-20fb-47df-89189a2b6ab5:
      type: object
      description:  |
        Země
      properties:
        id:
          type: integer
          format: int32
          description:  |
            ID země
        name:
          type: string
          description:  |
            Název země
        code:
          type: string
          description:  |
            ISO kód země
    cf8a454f-cc43-a125-ae3e-7ad1aea4a2b7:
      type: object
      required:
        - number
        - customer
        - bookings
      properties:
        number:
          type: integer
          format: int64
          description:  |
            Number of the business case
        customer:
          $ref: '#/components/schemas/96612934-87a3-c7ec-3f8a-11d257bc8490'
        bookings:
          type: array
          description:  |
            List of bookings
          items:
            $ref: '#/components/schemas/ded41841-b2b9-1904-8e1a-25338c65f0a7'
    96612934-87a3-c7ec-3f8a-11d257bc8490:
      type: object
      description:  |
        Contact person
      required:
        - firstName
        - lastName
      properties:
        birthDate:
          type: string
          format: date-time
          description:  |
            Birth date
          nullable: true
        firstName:
          type: string
          description:  |
            First name
        middleName:
          type: string
          description:  |
            Middle name
        lastName:
          type: string
          description:  |
            Last name
        nationality:
          type: string
          description:  |
            Nationality. Country ISO Code (ISO 3)
        street:
          type: string
          description:  |
            Street
        city:
          type: string
          description:  |
            City
        zipCode:
          type: string
          description:  |
            ZIP code
        phone:
          type: string
          description:  |
            Phone number
        email:
          type: string
          description:  |
            Email
        extendedPersonData:
          $ref: '#/components/schemas/7d3e6c0c-7044-815f-e074-932e8f18d707'
    7d3e6c0c-7044-815f-e074-932e8f18d707:
      type: object
      description:  |
        Additional data of the passenger
      properties:
        ageCategory:
          enum:
            - adult
            - child
            - infant
          type: string
    ded41841-b2b9-1904-8e1a-25338c65f0a7:
      type: object
      description:  |
        Booking and it's data
      required:
        - passengers
      properties:
        bookingId:
          type: integer
          format: int32
          description:  |
            Booking ID
          nullable: true
        passengers:
          type: array
          description:  |
            List of passengers
          items:
            $ref: '#/components/schemas/bf359a36-cdc7-55af-85f5-f36f0f1cb77a'
    bf359a36-cdc7-55af-85f5-f36f0f1cb77a:
      type: object
      description:  |
        Passenger person
      required:
        - birthDate
        - firstName
        - lastName
      properties:
        birthDate:
          type: string
          format: date-time
          description:  |
            Birth date
        firstName:
          type: string
          description:  |
            First name
        middleName:
          type: string
          description:  |
            Middle name
        lastName:
          type: string
          description:  |
            Last name
        nationality:
          type: string
          description:  |
            Nationality. Country ISO Code (ISO 3)
        street:
          type: string
          description:  |
            Street
        city:
          type: string
          description:  |
            City
        zipCode:
          type: string
          description:  |
            ZIP code
        phone:
          type: string
          description:  |
            Phone number
        email:
          type: string
          description:  |
            Email
        extendedPersonData:
          $ref: '#/components/schemas/7d3e6c0c-7044-815f-e074-932e8f18d707'
  securitySchemes:
     ApiKeyAuth:
       type: apiKey
       in: header
       name: X-API-Authentication-Token
       description: |
         All api calls require an Authorization Key which will be provided by M2G api login request.
     
         The key needs to be provided in the header as follows:
     
         * **X-API-Authentication-Token: `{Your-Key-Here}`**
         
         The key is not case sensitive.<br /> <br />
  responses:
    204NoContent:
      description:    |
          No content from response to work with
    400BadRequest: 
      description:    |
        Bad request. Data required by the request are not valid (some of the required properties are missing or might have an invalid format)
    401Unauthorized:
      description:    |
          Authorization token is missing or invalid. Or current user does not have the required permissions
    404NotFound:
      description:    |
          Request URL was not found. Check the URL of the request or contact Magicware about support of the current API
    500InternalServerError:
      description:    |
          Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr></table>
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            errorId:
              -1
            timestamp:
              636921892188151049,
            message:
              'The request timeout has expired. Please try again.'
