---
openapi: '3.0.2'
################################################################################
#                                  Header                                      #
################################################################################
tags:
  -  name: Authentication
     description: Everything about authentication
  -  name: Product
     description: Everything about products
  -  name: Business case
     description: Everything about business cases
info:
  title: M2G API documentation
  version: v1
  description:  |
    Informations about avaiable M2G API.
    # Getting Started
    ## Swagger UI
    Our API docs are also available via [Swagger UI](https://magicware.github.io/api/swagger-ui)
    ## Security
    ### HTTPS
    All api calls and callbacks require HTTPS. Your service will need a valid SSL certificate and be accesible via the standard SSL port (port 443).
    ## Making an API request
    ```POST https://magicware.iscontent.cz/api/v1/reservations/businessCases HTTP/1.1```
    ```json
    {
        X-API-Authentication-Token: e00a713d-ad81-4b4f-8801-31b34842f640
        Content-Type: application/json; charset=utf-8
        Content-Length: 1000
    }
    ```
  x-logo:
    url: "https://avatars1.githubusercontent.com/u/8859303"
externalDocs:
  url: 'http://www.magicware.cz'
  description: More informations about this feature at www.magicware.cz
servers:
  -  url: 'https://{URLINSTANCENAME}.{URLINSTANCEENVIRONMENT}.com/api/{URLVERSION}'
     description: API server URL format
     variables:
       URLINSTANCENAME:
         default: 'magicware'
         description: Part of an url to the instance of the M2G system
       URLINSTANCEENVIRONMENT:
         default: 'iscontent'
         description: Part of an url to the instance of the M2G system
       URLVERSION:
         default: 'v1'
################################################################################
#                                  Paths                                       #
################################################################################
paths:
  /administration/user/login:
    post:
      description:  |
        #### **API-IDENTIFIER**: `Administration.Users.Login`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Login and obtain the ApiKeyAuth (apiKey) authentication token.
        
        If the value of property `authenticationToken` is 'null', login was not successful
        
        **Authentication token is automatically set into request header**.
      tags:
        -  Authentication
      summary: "Login and authorize"
      requestBody:
        required: True
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ff8b50c3-c4e7-8931-4403-759665238a84'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/768284c8-5cef-3f11-d387-62dbe3fbd4cb'
        '400':
          description:  |
            NOT OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '404':
          description:  |
            NOT OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            NOT OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /products/priceCorrections:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Products.Prices.PriceCorrections.AdjustPriceVariant`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        The price correction currently affects adjusted product variant prices only in exports.
      tags:
        -  Product
      summary: "Re-price product variants or adjust their end price."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Price correction with it's type how it behave and it's variant unique key.
          To remove the price correction, just simply set the price correction amount to a zero.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/d67b15fe-4a58-deca-f4a8-fd78cfbc09db'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/d67b15fe-4a58-deca-f4a8-fd78cfbc09db'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businessCases:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Get an informations about a business case.
      tags:
        -  Business case
      summary: "Informations about a business case."
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: number
           description: Number of the business case.
           required: True
           schema:
             type: integer
             format: int64
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/8e88fd77-f4ed-f08c-5569-298de45ca6e9'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
    post:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.New`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Creates new business case. Returns extra ID and Number of created business case.
      tags:
        -  Business case
      summary: "Create a new business case."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines the business case.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/07337efc-3d93-c656-ce2d-1aa035ca1a88'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/c766f661-ffe1-4b25-1ce5-c06587a06431'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businessCases/customInfo:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.BcCustomInfo.Actualize`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.
      tags:
        -  Business case
      summary: "Actualize additional data of a business case."
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines additional data for a business case.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/30d5338c-b92e-da36-a340-b1cc2b62a69a'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/30d5338c-b92e-da36-a340-b1cc2b62a69a'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businessCases/priceItems:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.PriceItems.Actualize`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.
      summary: "Create, modify or release the price items."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/fd5476d4-23e1-7020-c241-b11cf9f0575e'
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/b60412c5-f483-45b9-c1c6-a0c5afa7bd12'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businesscases/invoices:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Invoices.Get`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case.<br /><br />
        
        Gets a list of the business case's proforma invoices. If no proforma invoices exists, they are created automatically by business case's payment policy.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Get invoices attached to a business case."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: businessCaseId
           description: Required if no `businessCaseNumber` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int32
        -  in: query
           name: businessCaseNumber
           description: Required if no `businessCaseId` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int64
        -  in: query
           name: type
           description: Defines a type of the required invoices.
           required: True
           schema:
             type: string
             enum: [proforma]
      responses:
        '200':
          description:  |
            OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/3b26656a-2774-5526-86e8-ffdd57d7b80f'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1003</td><td>Business case provided by identifier has not been found</td></tr><tr><td style='text-align:center'>1035</td><td>Identifiers provided in api request query of a business case are not in valid state</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businesscases/invoices/contents:
    get:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Invoices.Content.Get`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`<br /><br />
        ---
        Requires an existing business case and printeable invoice document.<br /><br />
        
        Gets a document file of an invoice.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Get a printeable invoice file attached to a business case."
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      parameters:
        -  in: query
           name: businessCaseId
           description: Required if no `businessCaseNumber` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int32
        -  in: query
           name: businessCaseNumber
           description: Required if no `businessCaseId` is provided. ID or Number of the business case is required. **Cannot be used both in one request**.
           required: True
           schema:
             type: integer
             format: int64
        -  in: query
           name: accountingDocId
           description: ID of an accounting document
           required: True
           schema:
             type: integer
             format: int32
      responses:
        '200':
          description:  |
            OK
          content:
            application/pdf:
              schema:
                type: string
                format: binary
            application/msword:
              schema:
                type: string
                format: binary
            application/vnd.openxmlformats-officedocument.wordprocessingml.document:
              schema:
                type: string
                format: binary
        '425':
          description:  |
            Too early - The requested file is still generating, please try again later.
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1003</td><td>Business case provided by identifier has not been found</td></tr><tr><td style='text-align:center'>1035</td><td>Identifiers provided in api request query of a business case are not in valid state</td></tr><tr><td style='text-align:center'>1036</td><td>File does not exists - but should exist</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
  /reservations/businesscases/persons:
    put:
      description:  |
        #### **API-IDENTIFIER**: `Reservations.BusinessCases.Persons`<br /><br />**URL-ENVIRONMENT**: `is>content`<br />**URL-VERSION**: `v1`
        ---
        Allows to modify a passengers of a business case.<br />
        ID of the booking is now an optional parameter. Keep in mind, the passengers modified outside the booking process will not be automatically associated with the booking process.
        
        User requesting this action has to be an organization owner of the business case.
      summary: "Modify a passengers of a business case"
      tags:
        -  Business case
      security:
        -  ApiKeyAuth: []
      requestBody:
        required: True
        description:  |
          Defines the passangers.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/cf8a454f-cc43-a125-ae3e-7ad1aea4a2b7'
      responses:
        '204':
          $ref: '#/components/responses/770b32c3-2c28-7edc-54a9-f0ea354a061b'
        '400':
          $ref: '#/components/responses/a0277bd3-1a59-379b-916a-9bbfbe4a1890'
        '401':
          $ref: '#/components/responses/1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff'
        '404':
          $ref: '#/components/responses/125777c6-838e-6991-85e1-65898249a1fc'
        '500':
          description:  |
            Internal server error - request has ended as a fatal error. Check the `message` property for more detail information about the occured error in the response<br /> <br /><p style='margin:0px !important'># Expected errors:</p><table style='margin:0px !important'><tr><th>Error (errorId)</th><th>Description</th></tr><tr><td style='text-align:center'>-1</td><td>Unexpected unknown error with unspecified error ID</td></tr><tr><td style='text-align:center'>1015</td><td>Booking ID is not specified</td></tr><tr><td style='text-align:center'>1016</td><td>Specified Booking ID doesn't exist</td></tr><tr><td style='text-align:center'>1017</td><td>Invalid persons count</td></tr><tr><td style='text-align:center'>1018</td><td>Invalid persons birth dates</td></tr><tr><td style='text-align:center'>1019</td><td>Specified country ISO code not found</td></tr><tr><td style='text-align:center'>1020</td><td>Not specified error</td></tr></table>
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/4eac893b-52fb-4cf1-5205-3fa413483ae6'
################################################################################
#                                Components                                    #
################################################################################
components:
  securitySchemes:
     ApiKeyAuth:
       type: apiKey
       in: header
       name: X-API-Authentication-Token
       description: |
         All api calls require an Authorization Key which will be provided by M2G api login request.
     
         The key needs to be provided in the header as follows:
     
         * **X-API-Authentication-Token: `{Your-Key-Here}`**
         
         The key is not case sensitive.<br /> <br />
  schemas:
    ff8b50c3-c4e7-8931-4403-759665238a84:
      type: object
      properties:
        login:
          description: User name
          type: string
        password:
          description: User password
          type: string
    768284c8-5cef-3f11-d387-62dbe3fbd4cb:
      type: object
      properties:
        authenticationToken:
          description: Authorization token. If the value of property `authenticationToken` is 'null', login was not successful
          nullable: true
          type: string
          format: uuid
    a0277bd3-1a59-379b-916a-9bbfbe4a1890:
      description: Bad request. Data required by the request are not valid (some of the required properties are missing or might have an invalid format)
    125777c6-838e-6991-85e1-65898249a1fc:
      description: Request URL was not found. Check the URL of the request or contact Magicware about support of the current API
    4eac893b-52fb-4cf1-5205-3fa413483ae6:
      description: Internal server error - request has ended as a fatal error. Check the message property for more detail information about the occured error in the response
      type: object
      properties:
        errorId:
          description: Internal system ID of the error
          type: integer
          format: int32
        timestamp:
          description: Timestamp of the event, epoch time in milliseconds
          type: integer
          format: int64
        message:
          description: Description of the internal server error
          type: string
    d67b15fe-4a58-deca-f4a8-fd78cfbc09db:
      type: object
      required:
        - amount
        - dateFrom
        - nights
        - productId
        - facilityUnitPlanId
      properties:
        amount:
          description: The value of a price correction
          type: number
          format: double
        dateFrom:
          description: Date From
          type: string
          format: date
        nights:
          description: Count of nights
          type: integer
          format: int32
        departureTransportFacilityId:
          description: ID of a depature transport facility
          nullable: true
          type: integer
          format: int32
        departureStationId:
          description: ID of a departure station
          nullable: true
          type: integer
          format: int32
        returnArrivalStationId:
          description: ID of an arrival station
          nullable: true
          type: integer
          format: int32
        productId:
          description: ID of a product
          type: integer
          format: int32
        priceListCategoryCbId:
          description: Codebook ID of a price list category
          nullable: true
          type: integer
          format: int32
        boardTypeCbId:
          description: Codebook ID of a board type
          nullable: true
          type: integer
          format: int32
        saleGroupId:
          description: ID of a sale group
          nullable: true
          type: integer
          format: int32
        facilityUnitPlanId:
          description: ID of a facility unit plan
          type: integer
          format: int32
    8e88fd77-f4ed-f08c-5569-298de45ca6e9:
      type: object
      properties:
        businessCases:
          type: array
          description: Obchodní případy
          items:
            $ref: '#/components/schemas/ac314140-b056-3ade-ee01-779f7c9a88cf'
        products:
          type: array
          description: Produkty
          items:
            $ref: '#/components/schemas/c6067df4-d3ce-ef9f-a76c-a1372390b56b'
        facilityKinds:
          type: array
          description: Druhy zařízení
          items:
            $ref: '#/components/schemas/573e26ab-85d7-c1a6-139d-7993e00c4f84'
        commitmentModes:
          type: array
          description: Způsoby zajištění (vazba na číselník "commitmentModes")
          items:
            $ref: '#/components/schemas/a998e1ae-ed07-31b3-3b1d-96a0c78bc593'
        productTypes:
          type: array
          description: Typy produktů
          items:
            $ref: '#/components/schemas/ab619b51-5818-673d-df5b-71e7a4d99319'
        contactTypes:
          type: array
          description: Typy kontaktů
          items:
            $ref: '#/components/schemas/18a60dd0-d87c-a788-f5fd-8745531d1145'
        persons:
          type: array
          description: Osoby v systému
          items:
            $ref: '#/components/schemas/42688ed6-9411-6760-c972-8a41f1772978'
        priceFlags:
          type: array
          description: Příznaky cen
          items:
            $ref: '#/components/schemas/7fc97be9-b51b-f19e-0be9-ee1e66f9e55e'
        countries:
          type: array
          description: Země
          items:
            $ref: '#/components/schemas/a8a54b93-2c72-20fb-47df-89189a2b6ab5'
    ac314140-b056-3ade-ee01-779f7c9a88cf:
      description:  |
        Obchodní Případ (OP) Slouží jako složka pro evidenci prvků a stavů - sledu aktivit:  poptávka – rezervace - prodej. 
        Bilance plateb vůči ceně služeb se provádí za každý obchodní případ samostatně.
      type: object
      properties:
        id:
          description: Id OP
          type: integer
          format: int32
        number:
          description: Číslo OP
          type: integer
          format: int64
        commitmentModeId:
          description: Vazba na číselník "commitmentModes" určující stav OP (Rezervace, Prodej..)
          nullable: true
          type: integer
          format: int32
        currency:
          description: Kód měny OP
          type: string
        dateCreated:
          description: Datum začátku OP
          type: string
          format: date
        dateFrom:
          description: Datum konce OP
          nullable: true
          type: string
          format: date
        firstExpirationDate:
          description: Nejbližší datum expirace OP
          nullable: true
          type: string
          format: date
        cancellationMode:
          description: Určuje způsob zrušení OP, není-li nastaveno, OP není zrušeno
          nullable: true
          enum:
            - notset
            - cancelled
            - released
          type: string
        owner:
          $ref: '#/components/schemas/f829d84d-a12c-cd1e-f6e2-5bc23d611e83'
        organizer:
          $ref: '#/components/schemas/2efb3e98-7870-693d-4916-0769c2e8abc0'
        customer:
          $ref: '#/components/schemas/72362654-3722-511f-21b2-feb7c492e0e7'
        products:
          type: array
          description: Produkty OP
          items:
            $ref: '#/components/schemas/2b13908a-e129-1e87-70e8-9e542bc5f62d'
        priceItems:
          type: array
          description: Cenové položky OP
          items:
            $ref: '#/components/schemas/baa2818c-51c3-496d-fc4d-4360688dddc1'
        capacities:
          type: array
          description: Vázané kapacity
          items:
            $ref: '#/components/schemas/b6ccd8cf-e0f4-b9a6-8836-ded97bfd46b1'
        priceSummary:
          $ref: '#/components/schemas/1e0cc0df-2691-b4a4-740d-2dc2a287e4ed'
        businessCasePersons:
          type: array
          description: Osoby připojené k OP
          items:
            $ref: '#/components/schemas/54b4cfbc-7b50-e3a3-59b1-5767d78b266e'
        files:
          type: array
          description: Soubory připojené (vygenerované) k OP
          items:
            $ref: '#/components/schemas/7db6f602-3d0f-4b83-ac4b-157a0b57bb08'
        paymentPolicies:
          type: array
          description: Payment policies of the business case
          items:
            $ref: '#/components/schemas/77419105-3a86-90de-05c3-7e256f38f6e3'
    f829d84d-a12c-cd1e-f6e2-5bc23d611e83:
      description: Vlastník (organizace) OP
      type: object
      properties:
        organizationId:
          description: ID organizace vlastníka
          nullable: true
          type: integer
          format: int32
        organizationName:
          description: Název organizace vlastníka
          type: string
        organizationRegNumber:
          description: IČO organizace vlastníka
          type: string
        personId:
          description: ID osoby vlastníka (vazba na osobu)
          nullable: true
          type: integer
          format: int32
    2efb3e98-7870-693d-4916-0769c2e8abc0:
      description: Pořadatel (organizace) OP
      type: object
      properties:
        organizationId:
          description: ID organizace pořadatele
          nullable: true
          type: integer
          format: int32
        organizationName:
          description: Název organizace pořadatele
          type: string
        organizationRegNumber:
          description: IČO organizace pořadatele
          type: string
    72362654-3722-511f-21b2-feb7c492e0e7:
      description: Zákazník (organizace) OP
      type: object
      properties:
        organizationId:
          description: ID organizace zákazníka
          nullable: true
          type: integer
          format: int32
        organizationName:
          description: ID organizace zákazníka
          type: string
        organizationRegNumber:
          description: ID organizace zákazníka
          type: string
        personId:
          description: ID organizace zákazníka (vazba na osobu)
          nullable: true
          type: integer
          format: int32
    2b13908a-e129-1e87-70e8-9e542bc5f62d:
      description: Produkt představuje obal toho, co prodáváme
      type: object
      properties:
        id:
          description: ID produktu
          type: integer
          format: int32
        name:
          description: Název produktu
          type: string
        termName:
          description: Název objednaného termínu produktu
          type: string
        dateFrom:
          description: Začátek pobytu (datum od z připojeného produktu)
          nullable: true
          type: string
          format: date
        dateTo:
          description: Konec pobytu (datum do z připojeného produktu)
          nullable: true
          type: string
          format: date
    baa2818c-51c3-496d-fc4d-4360688dddc1:
      description: Cenové položky OP
      type: object
      properties:
        id:
          description: ID cenové položky
          type: integer
          format: int32
        currency:
          description: Měna cenové položky
          type: string
        isCancelled:
          description: Zda byla cenová položka stornována
          type: boolean
        name:
          description: Název cenové položky
          type: string
        unitCount:
          description: Počet jednotek
          type: integer
          format: int32
        unitPrice:
          description: Jednotková cena
          nullable: true
          type: number
          format: double
        totalPrice:
          description: Celková cena včetně odečtených slev
          nullable: true
          type: number
          format: double
        commision:
          description: Celková provize na ceníkové položce
          type: number
          format: double
        businessCasePersonId:
          description: ID osoby v OP, které cenová položka patří
          nullable: true
          type: integer
          format: int32
        priceFlagId:
          description: ID příznaku (LastMinute, ...) cen z číselníku priceFlags
          nullable: true
          type: integer
          format: int32
        commitmentModeId:
          description: Vazba na číselník "commitmentModes" určující stav cenové položky
          nullable: true
          type: integer
          format: int32
        discounts:
          type: array
          description: Aplikované slevy
          items:
            $ref: '#/components/schemas/6c607ebb-7f33-ef5d-58a1-9e68b796fca6'
    6c607ebb-7f33-ef5d-58a1-9e68b796fca6:
      description: Aplikované slevy
      type: object
      properties:
        id:
          description: ID slevy
          nullable: true
          type: integer
          format: int32
        name:
          description: Název slevy
          type: string
        amount:
          description: Částka slevy
          type: number
          format: double
    b6ccd8cf-e0f4-b9a6-8836-ded97bfd46b1:
      description: Představuje jednotky v čase vázané obchodnímu případu s nějakým způsobem zajištění
      type: object
      properties:
        id:
          description: ID vázané kapacity
          type: integer
          format: int32
        facilityType:
          description: Typ zařizení vázané kapacity
          type: string
        facilityId:
          description: ID zařízení vázané kapacity
          type: integer
          format: int32
        facilityKindId:
          description: Druh zařízení
          nullable: true
          type: integer
          format: int32
        facilityName:
          description: Název zařízení
          type: string
        unitType:
          description: Název typu vzoru jednotky vázané kapacity
          type: string
        unitName:
          description: Název vzoru jednotky vázané kapacity
          type: string
        commitmentModeId:
          description: Způsob zajištění vázané kapacity (vazba na číselník "commitmentModes")
          nullable: true
          type: integer
          format: int32
        route:
          $ref: '#/components/schemas/de120219-c55c-cb50-80da-baeca148b6a6'
        personMapping:
          type: array
          description: Připojené osoby
          items:
            $ref: '#/components/schemas/32a250db-53ce-db28-7e7a-b1d8b9e019f0'
    de120219-c55c-cb50-80da-baeca148b6a6:
      description: Cesta
      type: object
      properties:
        id:
          description: ID
          nullable: true
          type: integer
          format: int32
        code:
          description: Kód
          type: string
        unitType:
          description: Název typu vzoru jednotky
          type: string
        from:
          $ref: '#/components/schemas/dadee616-6d90-1831-ea0a-af7cb8311b59'
        to:
          $ref: '#/components/schemas/dadee616-6d90-1831-ea0a-af7cb8311b59'
    dadee616-6d90-1831-ea0a-af7cb8311b59:
      description: Stanice odjezdu
      type: object
      properties:
        code:
          description: Kód stanice
          type: string
        name:
          description: Název stanice
          type: string
        time:
          description: Čas odjezdu/příjezdu
          nullable: true
          type: string
          format: date
    32a250db-53ce-db28-7e7a-b1d8b9e019f0:
      description: Připojené osoby
      type: object
      properties:
        id:
          description: ID osoby OP
          type: integer
          format: int32
        mapping:
          description: Druh lůžka
          nullable: true
          enum:
            - notset
            - fixedplace
            - extrabed
            - infant
            - nobed
            - overbook
          type: string
    1e0cc0df-2691-b4a4-740d-2dc2a287e4ed:
      description: Shrnutí ceny OP
      type: object
      properties:
        totalPrice:
          description: Celková cena OP
          nullable: true
          type: number
          format: double
        payments:
          description: Suma plateb za OP
          nullable: true
          type: number
          format: double
        commission:
          description: Provize za OP
          nullable: true
          type: number
          format: double
    54b4cfbc-7b50-e3a3-59b1-5767d78b266e:
      description: Osoby připojené k OP
      type: object
      properties:
        id:
          description: ID osoby OP
          type: integer
          format: int32
        order:
          description: Pořadí osoby OP
          type: integer
          format: int32
        isContactPerson:
          description: Určuje zda je osoba v OP kontaktérem
          type: boolean
        role:
          description: Role osoby v OP
          nullable: true
          enum:
            - notset
            - active
            - child
            - infant
            - inactive
            - cancelled
          type: string
        person:
          $ref: '#/components/schemas/4786e4f0-4718-2eda-0663-9fbcfd33b959'
    4786e4f0-4718-2eda-0663-9fbcfd33b959:
      description: Vazba na konkrétní osobu
      type: object
      properties:
        id:
          description: Id osoby v systému
          type: integer
          format: int32
        firstName:
          description: Jméno osoby
          type: string
        middleName:
          description: Prostřední jméno osoby
          type: string
        lastname:
          description: Příjmení osoby
          type: string
        birthDate:
          description: Datum narození
          nullable: true
          type: string
          format: date
        sex:
          description: Pohlaví osoby
          nullable: true
          enum:
            - notset
            - male
            - female
          type: string
        contacts:
          type: array
          description: Seznam kontaktních údajů
          items:
            $ref: '#/components/schemas/c06ef571-cc16-7a7a-e884-48067be418f3'
        addresses:
          type: array
          description: Seznam připojených adres
          items:
            $ref: '#/components/schemas/a425c9a5-f1b7-77e3-8487-893ae88d1e4d'
    c06ef571-cc16-7a7a-e884-48067be418f3:
      description: Seznam kontaktních údajů
      type: object
      properties:
        contactTypeId:
          description: ID z číselníku typu kontaktů "contactTypes"
          type: integer
          format: int32
        value:
          description: Hodnota kontaktu - text spojení
          type: string
        isMain:
          description: Určuje, je-li kontakt v dané skupině se stejným contactTypeId hlavní
          type: boolean
    a425c9a5-f1b7-77e3-8487-893ae88d1e4d:
      description: Seznam připojených adres
      type: object
      properties:
        street:
          description: Ulice
          type: string
        number:
          description: Číslo orientační
          type: string
        houseNumber:
          description: Číslo popisné
          type: string
        city:
          description: Město
          type: string
        zip:
          description: Psč
          type: string
        countryId:
          description: Id z číselníku zemí "countries"
          nullable: true
          type: integer
          format: int32
        flags:
          description: Příznaky adresy
          type: array
          items:
            enum:
              - notset
              - hq
              - invoice
              - correspondence
              - presentation
            type: string
    7db6f602-3d0f-4b83-ac4b-157a0b57bb08:
      description: Soubory připojené (vygenerované) k OP
      type: object
      properties:
        id:
          description: ID souboru
          nullable: true
          type: integer
          format: int32
        templateId:
          description: ID šablony dokumentu použité pro generování
          nullable: true
          type: integer
          format: int32
        templateName:
          description: Název šablony dokumentu
          type: string
    77419105-3a86-90de-05c3-7e256f38f6e3:
      description: Payment policies of the business case
      type: object
      properties:
        id:
          description: ID of the payment policy
          type: integer
          format: int32
        date:
          description: Date
          type: string
          format: date
        amount:
          description: Amount
          type: number
          format: double
        currencyCode:
          description: Currency code
          type: string
        state:
          description: State
          type: string
        arrears:
          description: Arrears
          type: number
          format: double
    c6067df4-d3ce-ef9f-a76c-a1372390b56b:
      description: Produkt představuje obal toho, co prodáváme
      type: object
      properties:
        id:
          description: ID Produktu
          type: integer
          format: int32
        name:
          description: Jméno Produktu
          type: string
        code:
          description: Kód produktu
          type: string
        url:
          description: Url produktu generovaná z názvu (nejedná se o kompletní url na webu)
          type: string
        productTypesId:
          description: Seznam ID typů produktů
          type: array
          items:
            type: integer
            format: int32
    573e26ab-85d7-c1a6-139d-7993e00c4f84:
      description: Druhy zařízení
      type: object
      properties:
        id:
          description: ID druhu zařízení
          type: integer
          format: int32
        name:
          description: Název druhu zařízení
          type: string
    a998e1ae-ed07-31b3-3b1d-96a0c78bc593:
      description: Způsoby zajištění (vazba na číselník "commitmentModes")
      type: object
      properties:
        id:
          description: ID způsobu zajištění
          type: integer
          format: int32
        name:
          description: Název způsobu zajištění
          type: string
        code:
          description: Kód způsobu zajištění
          type: string
    ab619b51-5818-673d-df5b-71e7a4d99319:
      description: Typy produktů
      type: object
      properties:
        id:
          description: ID typu produktu
          type: integer
          format: int32
        name:
          description: Název typu produktu
          type: string
        code:
          description: Kód typu produktu
          type: string
    18a60dd0-d87c-a788-f5fd-8745531d1145:
      description: Typy kontaktů
      type: object
      properties:
        id:
          description: ID typu kontaktu
          type: integer
          format: int32
        name:
          description: Název typu kontaktu
          type: string
        code:
          description: Kód typu kontaktu
          type: string
    42688ed6-9411-6760-c972-8a41f1772978:
      description: Osoby v systému
      type: object
      properties:
        id:
          description: ID osoby
          type: integer
          format: int32
        dateCreated:
          description: Datum založení osoby v systému
          type: string
          format: date
        firstName:
          description: Jméno osoby
          type: string
        lastname:
          description: Příjmení osoby
          type: string
        titles:
          description: Tituly před jménem
          type: string
        degrees:
          description: Tituly za jménem
          type: string
        personalNumber:
          description: Rodné číslo
          type: string
        birthDate:
          description: Datum narození
          nullable: true
          type: string
          format: date
        isBlacklisted:
          description: True je-li osoba na blacklistu, False pokud není
          type: boolean
        isDeleted:
          description: True je-li osoba v systému označená jako smazaná
          type: boolean
        note:
          description: Poznámka u osoby
          type: string
        sex:
          description: Pohlaví osoby
          nullable: true
          enum:
            - notset
            - male
            - female
          type: string
        groups:
          description: Statické skupiny, ve kterých je osoba přiřazena. Dynamické skupiny se neexportují.
          type: array
          items:
            type: string
        contacts:
          type: array
          description: Seznam kontaktních údajů
          items:
            $ref: '#/components/schemas/0e19d354-1787-06a6-5384-4718d65839b3'
        addresses:
          type: array
          description: Seznam připojených adres
          items:
            $ref: '#/components/schemas/3cb7e51e-30a7-19b3-a235-5dbefb81f307'
    0e19d354-1787-06a6-5384-4718d65839b3:
      description: Seznam kontaktních údajů
      type: object
      properties:
        contactTypeId:
          description: ID z číselníku typu kontaktů "contactTypes"
          type: integer
          format: int32
        value:
          description: Hodnota kontaktu - text spojení
          type: string
        isMain:
          description: Určuje, je-li kontakt v dané skupině se stejným contactTypeId hlavní
          type: boolean
    3cb7e51e-30a7-19b3-a235-5dbefb81f307:
      description: Seznam připojených adres
      type: object
      properties:
        street:
          description: Ulice
          type: string
        number:
          description: Číslo orientační
          type: string
        houseNumber:
          description: Číslo popisné
          type: string
        city:
          description: Město
          type: string
        zip:
          description: Psč
          type: string
        countryId:
          description: Id z číselníku zemí "countries"
          nullable: true
          type: integer
          format: int32
        flags:
          description: Příznaky adresy
          type: array
          items:
            enum:
              - notset
              - hq
              - invoice
              - correspondence
              - presentation
            type: string
    7fc97be9-b51b-f19e-0be9-ee1e66f9e55e:
      description: Příznaky cen
      type: object
      properties:
        id:
          description: ID příznaku
          type: integer
          format: int32
        name:
          description: Název příznaku
          type: string
        code:
          description: Kód příznaku
          type: string
    a8a54b93-2c72-20fb-47df-89189a2b6ab5:
      description: Země
      type: object
      properties:
        id:
          description: ID země
          type: integer
          format: int32
        name:
          description: Název země
          type: string
        code:
          description: ISO kód země
          type: string
    07337efc-3d93-c656-ce2d-1aa035ca1a88:
      type: object
      properties:
        name:
          description: Project name.
          type: string
        customerId:
          description: ID of a customer.
          nullable: true
          type: integer
          format: int32
        businessCaseKindCbId:
          description: ID of a business case kind.
          nullable: true
          type: integer
          format: int32
        costCenterId:
          description: ID of a cost center.
          nullable: true
          type: integer
          format: int32
        ownerId:
          description: ID of an owner.
          nullable: true
          type: integer
          format: int32
    c766f661-ffe1-4b25-1ce5-c06587a06431:
      type: object
      properties:
        id:
          description: ID of new business case
          type: integer
          format: int32
        number:
          description: Number of new business case
          type: integer
          format: int64
        name:
          description: Project name
          type: string
        customerId:
          description: ID of a customer.
          nullable: true
          type: integer
          format: int32
        businessCaseKindCbId:
          description: ID of a business case kind.
          nullable: true
          type: integer
          format: int32
        costCenterId:
          description: ID of a cost center.
          nullable: true
          type: integer
          format: int32
        ownerId:
          description: ID of an owner.
          nullable: true
          type: integer
          format: int32
    30d5338c-b92e-da36-a340-b1cc2b62a69a:
      type: object
      required:
        - businessCaseId
      properties:
        businessCaseId:
          description: ID of the business case that additional data are for
          type: integer
          format: int32
        destinationId:
          description: ID of a destination
          nullable: true
          type: integer
          format: int32
        productTypeId:
          description: ID of a product type
          nullable: true
          type: integer
          format: int32
        accommodationCategoryCbId:
          description: ID of an accommodation
          nullable: true
          type: integer
          format: int32
        boardTypeCbId:
          description: ID of a board
          nullable: true
          type: integer
          format: int32
        transportTypeCbId:
          description: ID of a transportation type
          nullable: true
          type: integer
          format: int32
        term:
          $ref: '#/components/schemas/d16b344f-d3d1-955c-6721-3265fc1d6698'
        accommodationTerm:
          $ref: '#/components/schemas/1ce7ea5d-2df1-6b4d-1e78-d6c924b9a8a3'
        personCount:
          description: Count of a persons
          nullable: true
          type: integer
          format: int32
        hotelName:
          description: Name of a hotel
          type: string
        roomKind:
          description: Kind of a room
          type: string
        departurePlace:
          description: Departure place
          type: string
        services:
          description: Additional services
          type: string
    d16b344f-d3d1-955c-6721-3265fc1d6698:
      description: Start and end of the trip
      type: object
      properties:
        dateFrom:
          description: Date from
          nullable: true
          type: string
          format: date
        dateTo:
          description: Date to
          nullable: true
          type: string
          format: date
    1ce7ea5d-2df1-6b4d-1e78-d6c924b9a8a3:
      description: Term of the accomodation
      type: object
      properties:
        dateFrom:
          description: Date from
          nullable: true
          type: string
          format: date
        dateTo:
          description: Date to
          nullable: true
          type: string
          format: date
    fd5476d4-23e1-7020-c241-b11cf9f0575e:
      type: object
      required:
        - priceItems
      properties:
        priceItems:
          type: array
          description: List of price items
          items:
            $ref: '#/components/schemas/60b99674-81fd-0aac-9ef1-6d14fff68739'
    60b99674-81fd-0aac-9ef1-6d14fff68739:
      description: List of price items
      type: object
      required:
        - businessCaseId
        - commitmentModeId
        - amount
        - currencyId
        - operation
      properties:
        id:
          description:  |
            ID of a price item. 
            Can be null or empty if the property `operation` has value `save`
          nullable: true
          type: integer
          format: int32
        businessCaseId:
          description: ID of a business case
          type: integer
          format: int32
        priceListItemId:
          description: ID of a price list item
          nullable: true
          type: integer
          format: int32
        commitmentModeId:
          description: ID of a commitment mode
          type: integer
          format: int32
        name:
          description: Name of a price item
          type: string
        amount:
          description: The value of a price item amount
          type: number
          format: double
        currencyId:
          description: ID of a currency
          type: integer
          format: int32
        accountingId:
          description: ID of an accounting
          nullable: true
          type: integer
          format: int32
        operation:
          description:  |
            The operation with a price item, that you intend to do
             - `save`: 
                If the property `id` is 'null' or empty, then the new price item will be created.
                Otherwise if the property `id` has a value, then an update of an existing price item will be proceed.
             - `release`: 
                The price item of a set property `id` will be realesed (not cancelled)
          enum:
            - save
            - release
          type: string
    b60412c5-f483-45b9-c1c6-a0c5afa7bd12:
      type: object
      properties:
        priceItems:
          type: array
          description: List of price items
          items:
            $ref: '#/components/schemas/5be9d738-3844-de9a-570b-6a2faefa9f51'
    5be9d738-3844-de9a-570b-6a2faefa9f51:
      description: List of price items
      type: object
      properties:
        id:
          description:  |
            ID of a price item. 
            May be null or empty if the property `operation` has value `save`
          nullable: true
          type: integer
          format: int32
        businessCaseId:
          description: ID of a business case
          type: integer
          format: int32
        priceListItemId:
          description: ID of a price list item
          nullable: true
          type: integer
          format: int32
        commitmentModeId:
          description: ID of a commitment mode
          type: integer
          format: int32
        name:
          description: Name of a price item
          type: string
        amount:
          description: The value of a price item amount
          type: number
          format: double
        currencyId:
          description: ID of a currency
          type: integer
          format: int32
        accountingId:
          description: ID of an accounting
          nullable: true
          type: integer
          format: int32
        operation:
          description: The operation with a price item, that you intended to do
          enum:
            - save
            - release
          type: string
    3b26656a-2774-5526-86e8-ffdd57d7b80f:
      type: object
      required:
        - invoices
      properties:
        invoices:
          type: array
          description: List of invoices
          items:
            $ref: '#/components/schemas/50b366e3-c643-ac00-259c-e6d5b4a21446'
    50b366e3-c643-ac00-259c-e6d5b4a21446:
      description: List of invoices
      type: object
      properties:
        variableSymbol:
          description: Variable symbol of the invoice
          nullable: true
          type: integer
          format: int64
        value:
          description: Value of the invoice
          type: number
          format: double
        accountingDocId:
          description: ID of the document where invoice is stored as a printable document
          type: integer
          format: int32
    cf8a454f-cc43-a125-ae3e-7ad1aea4a2b7:
      type: object
      required:
        - number
        - customer
        - bookings
      properties:
        number:
          description: Number of the business case
          type: integer
          format: int64
        customer:
          $ref: '#/components/schemas/96612934-87a3-c7ec-3f8a-11d257bc8490'
        bookings:
          type: array
          description: List of bookings
          items:
            $ref: '#/components/schemas/ded41841-b2b9-1904-8e1a-25338c65f0a7'
    96612934-87a3-c7ec-3f8a-11d257bc8490:
      description: Contact person
      type: object
      required:
        - firstName
        - lastName
      properties:
        birthDate:
          description: Birth date
          nullable: true
          type: string
          format: date
        firstName:
          description: First name
          type: string
        middleName:
          description: Middle name
          type: string
        lastName:
          description: Last name
          type: string
        nationality:
          description: Nationality. Country ISO Code (ISO 3)
          type: string
        street:
          description: Street
          type: string
        city:
          description: City
          type: string
        zipCode:
          description: ZIP code
          type: string
        phone:
          description: Phone number
          type: string
        email:
          description: Email
          type: string
        extendedPersonData:
          $ref: '#/components/schemas/7d3e6c0c-7044-815f-e074-932e8f18d707'
    7d3e6c0c-7044-815f-e074-932e8f18d707:
      description: Additional data of the passenger
      type: object
      properties:
        ageCategory:
          description:  |
            
            The person age category
             -   `adult`:
                 An age category of an adult.
             -   `child`: 
                 An age category of a child.
             -   `infant`: 
                 An age category of a baby.
          enum:
            - adult
            - child
            - infant
          type: string
    ded41841-b2b9-1904-8e1a-25338c65f0a7:
      description: Booking and it's data
      type: object
      required:
        - passengers
      properties:
        bookingId:
          description: Booking ID
          nullable: true
          type: integer
          format: int32
        passengers:
          type: array
          description: List of passengers
          items:
            $ref: '#/components/schemas/bf359a36-cdc7-55af-85f5-f36f0f1cb77a'
    bf359a36-cdc7-55af-85f5-f36f0f1cb77a:
      description: Passenger person
      type: object
      required:
        - birthDate
        - firstName
        - lastName
      properties:
        birthDate:
          description: Birth date
          type: string
          format: date
        firstName:
          description: First name
          type: string
        middleName:
          description: Middle name
          type: string
        lastName:
          description: Last name
          type: string
        nationality:
          description: Nationality. Country ISO Code (ISO 3)
          type: string
        street:
          description: Street
          type: string
        city:
          description: City
          type: string
        zipCode:
          description: ZIP code
          type: string
        phone:
          description: Phone number
          type: string
        email:
          description: Email
          type: string
        extendedPersonData:
          $ref: '#/components/schemas/7d3e6c0c-7044-815f-e074-932e8f18d707'
  responses:
    a0277bd3-1a59-379b-916a-9bbfbe4a1890:
      description: Bad request. Data required by the request are not valid (some of the required properties are missing or might have an invalid format)
    1f01a0b4-6c9c-027e-cd10-6c5b6b10e8ff:
      description: Authorization token is missing or invalid. Or current user does not have the required permissions
    125777c6-838e-6991-85e1-65898249a1fc:
      description: Request URL was not found. Check the URL of the request or contact Magicware about support of the current API
    770b32c3-2c28-7edc-54a9-f0ea354a061b:
      description: No content from response to work with
